
<div class="container">
  <section class="section about-section gray-bg m-auto" id="about">
  <div>
    <ul>
      <li *ngIf="!isDefault">
        <img [src]='image' title="" alt="">

      </li>
      <li *ngIf="isDefault">
        <img src="assets/images/avatar.png" >
      </li>
      <li>
        <h3 class="dark-color">{{account.lastName}} {{account.firstName}}</h3>
        <h6 class="theme-color lead"><span *ngFor="let profession of account.professions">{{profession.name}} </span></h6>
        <p>{{account.about}}</p>
      </li>
      <li>
        <i class="bi bi-envelope"><a> {{account.email}}</a></i>
      </li>
      <li>
        <i class="bi bi-telephone"><a> {{account.phoneNumber}}</a></i>
      </li>
      <li>
        <a  target="_blank" href="{{account.webPage}} + http://"> {{account.webPage}}</a>
      </li>
      <li>
        <p><ngb-rating [max]="5" [readonly]="true" [(rate)]="account.averageRating"></ngb-rating></p>
      </li>
      <li *ngIf="account.address.workAddress">  
          <label>{{residence}}</label>
          <p>{{account.address.postalCode}} {{account.address.street}} {{account.address.number}}</p> 
      </li>
    </ul>
    <div  *ngIf="!isCookieSet" class="d-flex justify-content-center">
      <button  class="btn-lg" (click)="openVerticallyCentered(content)">Értékelem</button>
    </div>
  </div>
  </section>


  <div *ngIf="account.classifications.length>0">
    <div *ngFor="let classification of account.classifications">
      <div class="card">
        <p><i>"{{classification.text}}" <ngb-rating [max]="5" [readonly]="true" [(rate)]="classification.rate"></ngb-rating></i></p>
        <p class="sub">{{classification.createdBy}}, {{classification.createdOn}} </p>
        <p *ngIf="classification.commented">{{account.firstName}} megjegyzése: "{{classification.comment}}", {{classification.commentCreatedOn}}</p>
        <button *ngIf="isCookieSet && !classification.commented" class="w-25 m-auto" (click)="openComment(comment, classification.classificationUuid)">Válaszolok</button>
      </div>
     
    </div>
    </div>
    <div class="card w-75 m-auto" *ngIf="classification"> 
      <div class="card  m-auto">
        <button  class="w-100 btn-lg" (click)="onCancel()">Megse</button>
      </div>
    </div>
</div>



<ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title">Minősítés</h4>
      <button class="btn-close" (click)="modal.dismiss()">    
      </button>
    </div>
        <div class="modal-body"> 
            <app-classification></app-classification>
        </div>
</ng-template>


<ng-template #comment let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Komment</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  
  <div class="modal-body">
    <label for="exampleFormControlTextarea1">Komment</label>
    <textarea  [(ngModel)]="commentOnClassification"  value="comcommentOnClassificationment" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
  </div>
  <div class="modal-footer">
    <button type="button" class="close" (click)="onSendComment(commentOnClassification)" (click)="modal.dismiss('Cross click')">Elküld</button>
    <button type="button" class="close" (click)="modal.dismiss('Cross click')">Megse</button>
  </div>
</ng-template>